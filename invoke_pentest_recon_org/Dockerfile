FROM ubuntu:latest
LABEL maintainer=manasmbellani

# Coreutils 
RUN apt-get -y update && \
    apt-get -y install \
        bash \
        golang \
        nmap \
        bash \
        ca-certificates \
        whois \
        curl \
        bind9-dnsutils \
        git \
        python3 \
        python3-pip \
        bc \
        coreutils \
        masscan

RUN go install github.com/hakluke/hakrawler@latest; \
    go install github.com/tomnomnom/assetfinder@latest; \
    go install github.com/tomnomnom/anew@latest; \
    go install github.com/projectdiscovery/dnsx/cmd/dnsx@latest; \
    go install github.com/projectdiscovery/cdncheck/cmd/cdncheck@latest


RUN git clone https://github.com/rbsec/dnscan /opt/dnscan && \
    cd /opt/dnscan && \
    python3 -m virtualenv venv && \
    source venv/bin/activate && \
    python3 -m pip install -r requirements.txt
    deactivate

RUN git clone https://github.com/synacktiv/AADOutsider-py /opt/AADOutsider-py && \
    cd /opt/AADOutsider-py && \
    python3 -m virtualenv venv && \
    source venv/bin/activate && \
    pip3 install -r requirements.txt && \
    deactivate

RUN mkdir /opt/webtech && \
    cd /opt/webtech && \
    python3 -m virtualenv venv && \
    source venv/bin/activate && \
    python3 -m pip install webtech && \
    deactivate

ENTRYPOINT ["/bin/bash"]